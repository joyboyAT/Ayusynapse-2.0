# Ayusynapse Project

âš ï¸ Disclaimer

This project is currently in the prototype stage and is intended for research and educational purposes only. It is not validated or authorized for real-world medical use or clinical decision-making. The results generated by this model should not be used as medical advice or guidance for actual clinical trials or patient eligibility.

## ðŸš€ Quick Start

**Clone and setup:**

```bash
# 1. Clone the repository
git clone https://github.com/joyboyAT/Ayusynapse-2.0.git
cd Ayusynapse-2.0

# 2. Install dependencies
pip install -r requirements.txt

# 3. Download BioBERT models (required!)
python setup_biobert.py

# 4. Run the application
python app.py
```

**First time setup takes 5-10 minutes to download models (~1GB)**

## System Architecture & Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AYUSYNAPSE PIPELINE                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Patient Input   â”‚
â”‚  - Clinical Notesâ”‚
â”‚  - EHR Data      â”‚â”€â”€â”€â”€â”€â”€â”
â”‚  - Reports       â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                          â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Data Preprocessing  â”‚
                â”‚  - Text Cleaning     â”‚
                â”‚  - Tokenization      â”‚
                â”‚  - Normalization     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   BioBERT NER Model  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                      â”‚                   â”‚
                â”‚  Why BioBERT?        â”‚                   â”‚
                â”‚  âœ“ Pre-trained on    â”‚                   â”‚
                â”‚    PubMed + PMC      â”‚                   â”‚
                â”‚  âœ“ Domain-specific   â”‚                   â”‚
                â”‚    biomedical vocab  â”‚                   â”‚
                â”‚  âœ“ F1: 0.75-0.90     â”‚                   â”‚
                â”‚  âœ“ Recognizes:       â”‚                   â”‚
                â”‚    - Diseases        â”‚                   â”‚
                â”‚    - Medications     â”‚                   â”‚
                â”‚    - Symptoms        â”‚                   â”‚
                â”‚    - Procedures      â”‚                   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                           â”‚                               â”‚
                           â–¼                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
                â”‚  Named Entities      â”‚                   â”‚
                â”‚  Extracted           â”‚                   â”‚
                â”‚  - Cancer types      â”‚                   â”‚
                â”‚  - Drug names        â”‚                   â”‚
                â”‚  - Lab values        â”‚                   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                           â”‚                               â”‚
                           â–¼                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
                â”‚  Medical Terminology â”‚                   â”‚
                â”‚  Mapping (UMLS)      â”‚                   â”‚
                â”‚                      â”‚                   â”‚
                â”‚  - UMLS CUI mapping  â”‚                   â”‚
                â”‚  - SNOMED CT codes   â”‚                   â”‚
                â”‚  - RxNorm (drugs)    â”‚                   â”‚
                â”‚  - ICD-10 codes      â”‚                   â”‚
                â”‚                      â”‚                   â”‚
                â”‚  Purpose:            â”‚                   â”‚
                â”‚  âœ“ Standardization   â”‚                   â”‚
                â”‚  âœ“ Interoperability  â”‚                   â”‚
                â”‚  âœ“ Semantic linking  â”‚                   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                           â”‚                               â”‚
                           â–¼                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
                â”‚  Enhanced Patient    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚  Profile Generation  â”‚
                â”‚                      â”‚
                â”‚  Structured Data:    â”‚
                â”‚  - Diagnoses (coded) â”‚
                â”‚  - Medications       â”‚
                â”‚  - Allergies         â”‚
                â”‚  - Lab results       â”‚
                â”‚  - Treatment history â”‚
                â”‚  - Risk factors      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  FHIR Conversion     â”‚
                â”‚                      â”‚
                â”‚  Resources Created:  â”‚
                â”‚  - Patient           â”‚
                â”‚  - Condition         â”‚
                â”‚  - MedicationRequest â”‚
                â”‚  - Observation       â”‚
                â”‚  - Procedure         â”‚
                â”‚                      â”‚
                â”‚  Why FHIR?           â”‚
                â”‚  âœ“ HL7 standard      â”‚
                â”‚  âœ“ REST API ready    â”‚
                â”‚  âœ“ EHR integration   â”‚
                â”‚  âœ“ JSON format       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clinical Trial   â”‚              â”‚  Treatment       â”‚
â”‚ Matching API     â”‚              â”‚  Recommendation  â”‚
â”‚                  â”‚              â”‚  Engine          â”‚
â”‚ - ClinicalTrials â”‚              â”‚                  â”‚
â”‚   .gov API       â”‚              â”‚ - Evidence-based â”‚
â”‚ - Eligibility    â”‚              â”‚   guidelines     â”‚
â”‚   criteria match â”‚              â”‚ - Drug-drug      â”‚
â”‚ - Geographic     â”‚              â”‚   interactions   â”‚
â”‚   filtering      â”‚              â”‚ - Personalized   â”‚
â”‚ - Phase filteringâ”‚              â”‚   protocols      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â”‚                                 â”‚
         â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Clinical Decision Support                 â”‚
â”‚                                                     â”‚
â”‚  - Trial recommendations                            â”‚
â”‚  - Treatment options                                â”‚
â”‚  - Risk assessments                                 â”‚
â”‚  - Follow-up protocols                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Output Dashboard    â”‚
         â”‚  - Patient summary   â”‚
         â”‚  - Matched trials    â”‚
         â”‚  - Treatment plans   â”‚
         â”‚  - FHIR export       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technical Stack

| Component        | Technology                       | Purpose                           |
| ---------------- | -------------------------------- | --------------------------------- |
| NER Model        | BioBERT (BERT-base + PubMed/PMC) | Domain-specific entity extraction |
| Terminology      | UMLS, SNOMED CT, RxNorm          | Medical concept standardization   |
| Interoperability | FHIR R4                          | Healthcare data exchange          |
| Clinical Trials  | ClinicalTrials.gov API           | Trial matching & recruitment      |
| Caching          | Redis/In-memory                  | Fast inference & response         |
| Backend          | Flask/FastAPI                    | REST API endpoints                |

## ðŸ“¦ What's Included

- âœ… Source code for all components
- âœ… Setup scripts for automatic model download
- âœ… Sample data and test cases
- âœ… Documentation and API guides
- âŒ Pre-trained models (download via `setup_biobert.py`)
- âŒ Cache files (auto-generated)
- âŒ Trec 2021 Datasets

## The primary datasets used in the training and testing were the TREC Clinical Trials 2021 track collections which consisted of mainly three files.
TREC Clinical Trials Dataset
1. TOPICS (â‰ˆ50 patient cases): Each topic = a synthetic patient description (query)

2. CORPUS (NCT XML files, ~hundreds of thousands): Each doc = one clinical trial (NCT ID, title, summary, detailed_description, eligibility, conditions, interventions, meta)

3. QRELS (topic, doc, label): Ground truth labels for topicâ†”trial pairs (e.g., eligible / excludes / not-relevant -> 0/1/2)


##ðŸ’¡ If youâ€™re interested in collaborating or contributing to this project on Clinical Trial Matchmaking using GenAI and Machine Learning, feel free to reach out or open an issue, would love to connect with others passionate about AI in healthcare to discuss and work together to advance this research. 

